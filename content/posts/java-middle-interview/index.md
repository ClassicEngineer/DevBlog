---
title: "Java Middle Собеседование"
date: 2023-07-19T13:41:12+03:00
image: "star_coder.jpg"
draft: false
tags:
  - tech
---

В этом посте хотел бы собрать вопросы, которые бы подошли для собеседования.
Список неполный, дополняется редко. Ответы будут браться с других сайтов.
Делается только под себя (Как и все в этом месте).


# Базы данных


## Аномалии параллельных транзакций.


1. __Потерянное обновление (lost update)__

Когда разные транзакции одновременно изменяют одни и те же данные, то после фиксации изменений может оказаться, что одна транзакция перезаписала данные, обновленные и зафиксированные другой транзакцией.

2. __«Грязное» чтение (dirty read)__

Транзакция читает данные, измененные параллельной транзакцией, которая еще не завершилась. 

3. __Неповторяющееся чтение (non-repeatable read)__

При повторном чтении тех же самых данных в рамках одной транзакции оказывается, что другая транзакция успела изменить и зафиксировать эти данные.

4. __Фантомное чтение (phantom read).__

Транзакция повторно выбирает множество строк в соответствии с одним и тем же критерием. В интервале времени между выполнением этих выборок другая транзакция добавляет новые строки и успешно фиксирует изменения.
В результате при выполнении повторной выборки в первой транзакции может быть получено другое множество строк.

5. __Аномалия сериализации (serialization anomaly)__

Результат успешной фиксации группы транзакций, выполняющихся параллельно, не совпадает с результатом ни одного из возможных вариантов упорядочения этих транзакций,
если бы они выполнялись последовательно.


## Уровни изоляции базы данных

1. __Read Uncommitted__

Это самый низкий уровень изоляции. Согласно стандарту SQL на этом уровне допускается чтение «грязных» (незафиксированных) данных.


2. __Read Committed__

Не допускается чтение «грязных» (незафиксированных) данных.
Транзакция может видеть только те незафиксированные изменения данных, которые произведены в ходе выполнения ее самой.


3. __Repeatable Read__

Не допускается чтение «грязных» (незафиксированных) данных и неповторяющееся чтение. В PostgreSQL на этом уровне не допускается также фантомное чтение.


4. __Serializable__

Не допускается ни один из феноменов, перечисленных выше, в том числе и аномалии сериализации.



# Java

## Иерархия классов коллекций

## Все стандартные реализации коллекций и как они устроены внутри

## Как работает ClassLoader

![](class-loader.png)


## Какие есть примитивы синхронизации

## happens-before

«Выполняется прежде» (англ. happens before) — отношение строгого частичного порядка (антирефлексивное, антисимметричное, транзитивное), введённое между атомарными командами.
Оно значит, что вторая команда будет «в курсе» изменений, проведённых первой. 

## WeakReference


SoftReference — если GC видит что объект доступен только через цепочку soft-ссылок, то он удалит его из памяти. Потом. Наверно.
WeakReference — если GC видит что объект доступен только через цепочку weak-ссылок, то он удалит его из памяти.
PhantomReference — если GC видит что объект доступен только через цепочку phantom-ссылок, то он его удалит из памяти. После нескольких запусков GC.


Главная плюшка SoftReference в том что JVM сама следит за тем нужно удалять из памяти объект или нет. И если осталось мало памяти, то объект будет удален.

Ну конечно WeakHashMap. Это реализация Map<K,V> которая хранит ключ, используя weak-ссылку. И когда GC удаляет ключ с памяти, то удаляется вся запись с Map

## Как устроена JVM

## Java Memory Model

# Spring

## Что такое BeanFactoryPostProcessor и когда он используется?

BeanFactoryPostProcessor работает над описаниями бинов или конфигурационными метаданными перед тем, как бин будет создан.
Spring поставляет несколько полезных реализаций BeanFactoryPostProcessor, например, читающий property-файлы и получающий из них свойства бинов.

## Виды scope

singleton - Возвращает один и тот же экземпляр бина на каждый запрос контейнера Spring IoC (по умолчанию).

prototype - Создает и возвращает новый экземпляр бина на каждый запрос.

request - Создает и возвращает экземпляр бина на каждый HTTP запрос*.

session - Создает и возвращает экземпляр бина для каждой HTTP сессии*.

global-session - Создает и возвращает экземпляр бина для глобальной HTTP сессии*. 

## Жизненный цикл бина

## Жизненный цикл контекста

## Преимущества IoC

## Hibernate и Lazy

Сказать про транзакцию

## Rollback транзакции 

## Пример Prototype inside singleton.

## Пример Transaction call inside bean \ Scheduled.

# Microservices

## Паттерны микросервисов

https://microservices.io/patterns/index.html

## Как устроена Kafka

## Зачем нужны consumer's group id.


# Clean Code

## Design Patterns

## SOLID

